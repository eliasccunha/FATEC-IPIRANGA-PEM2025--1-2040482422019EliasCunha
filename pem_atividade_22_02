#include<stdio.h>
int candidatos;
typedef struct{
    char nome[50];
    float nota;
} Alunos;


void topQuinze(Alunos nomes[], int candidatos){
    for(int i = 0; i < candidatos; i++){
        for(int j = 0; j < candidatos - i - 1; j++){
            if(nomes[j].nota > nomes[j + 1].nota){

                Alunos temp = nomes[j];
                nomes[j] = nomes[j + 1];
                nomes[j + 1] = temp;
            }
        }
    }

}


int main(){
    
printf("Informe o numero total de candidatos: ");
    scanf("%d", &candidatos);
    
    int i, j, k, l, m; 
    float pe, ac, pp, eb;
    float soma;
    float maior, menor;
    
    Alunos nomes[candidatos];
    for(i = 0;i < candidatos; i++){
        printf("\ninforme o nome do candidato: ");
        fgets(nomes[i].nome, 50, stdin);
        soma = 0.0;
        float menor = 10.0, maior = 0.0;
        pe = 0.0;
        for(j = 0; j < 4; j++){
            printf("\nInsira a nota de Prova Escrita numero %d: ", j + 1);
            scanf("%f", &pe);
            if(pe > maior){
                maior = pe;
            }
            if(pe < menor){
                menor = pe;
            }
            pe + pe;
        }
        pe = pe - maior - menor;
        menor = 10.0, maior = 0.0;
        for( k = 0; k < 5; k++){
        printf("\nInsira a nota de Analise Curricular numero %d: ", k + 1);
            scanf("%f", &ac);
            
            if(ac > maior){
                maior = ac;
            }
            if(ac < menor){
                menor = ac;
            }
            ac += ac;
        }
        ac = ac - maior - menor;
        menor = 10.0, maior = 0.0;
        
        for(l = 0; l < 10; l++){
            printf("\nInsira a nota de Prova Pratica numero %d : ", l + 1);
            scanf("%f", &pp);
            if(pp > maior){
                maior = pp;
            }
            if(pp < menor){
                menor = pp;
            }
            pp += pp;
        }
        pp = pp - maior - menor;
        menor = 10.0, maior = 0.0;
        for(m = 0; m < 3; m++){
            printf("\nInsira a nota de Entrevista em Banca Avaliadora numero %d : ", m + 1);
            scanf("%f", &eb);
            if(eb > maior){
                maior = eb;
            }
            if(ac < menor){
                menor = eb;
            }
            pp +=pp;
        }
        pp = pp - maior - menor;
        nomes[i].nota = ((pe * 0.3)+ (ac * 0.1) + (pp * 0.4)+ (eb * 0.2));

    }
    
    topQuinze (nomes, candidatos);

    printf("--Os 15 melhores candidatos--\n");
    for( i = 0; i < 15;i++){
        printf("%s nota: %f colocacao%d", nomes[i].nome, nomes[i].nota, i+1);
    }

    return 0;
}